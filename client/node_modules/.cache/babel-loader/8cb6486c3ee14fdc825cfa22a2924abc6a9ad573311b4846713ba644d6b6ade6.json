{"ast":null,"code":"import _objectSpread from\"C:/Users/HP/OneDrive/Desktop/Reciepe Sharing/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect}from'react';import{Link,useSearchParams}from'react-router-dom';import axios from'axios';import config from'../config';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const RecipeList=()=>{const[recipes,setRecipes]=useState([]);const[loading,setLoading]=useState(true);const[searchParams]=useSearchParams();const[filters,setFilters]=useState({category:searchParams.get('category')||'All',search:searchParams.get('search')||''});const categories=['All','Breakfast','Lunch','Dinner','Vegan','Desserts','Snacks'];useEffect(()=>{fetchRecipes();},[filters]);const fetchRecipes=async()=>{try{setLoading(true);const params=new URLSearchParams();if(filters.category!=='All')params.append('category',filters.category);if(filters.search)params.append('search',filters.search);const response=await axios.get(\"\".concat(config.API_BASE_URL,\"/api/recipes?\").concat(params));setRecipes(response.data);}catch(error){console.error('Error fetching recipes:',error);// Fallback to mock data in production\nconst{mockRecipes}=await import('../config');let filteredRecipes=mockRecipes;if(filters.category!=='All'){filteredRecipes=filteredRecipes.filter(recipe=>recipe.category.toLowerCase()===filters.category.toLowerCase());}if(filters.search){filteredRecipes=filteredRecipes.filter(recipe=>recipe.title.toLowerCase().includes(filters.search.toLowerCase())||recipe.ingredients.some(ingredient=>ingredient.toLowerCase().includes(filters.search.toLowerCase())));}setRecipes(filteredRecipes);}finally{setLoading(false);}};const handleFilterChange=(key,value)=>{setFilters(prev=>_objectSpread(_objectSpread({},prev),{},{[key]:value}));};if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"container\",style:{padding:'2rem',textAlign:'center'},children:/*#__PURE__*/_jsx(\"h2\",{children:\"Loading recipes...\"})});}return/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:/*#__PURE__*/_jsxs(\"section\",{className:\"recipes-section\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"section-header\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Browse Recipes\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"filters\",children:[/*#__PURE__*/_jsx(\"select\",{value:filters.category,onChange:e=>handleFilterChange('category',e.target.value),children:categories.map(category=>/*#__PURE__*/_jsx(\"option\",{value:category,children:category},category))}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Search recipes...\",value:filters.search,onChange:e=>handleFilterChange('search',e.target.value),style:{padding:'0.5rem',borderRadius:'5px',border:'2px solid #ddd'}})]})]}),recipes.length===0?/*#__PURE__*/_jsxs(\"div\",{style:{textAlign:'center',padding:'3rem'},children:[/*#__PURE__*/_jsx(\"h3\",{children:\"No recipes found\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Try adjusting your filters or search terms.\"})]}):/*#__PURE__*/_jsx(\"div\",{className:\"recipe-grid\",children:recipes.map(recipe=>/*#__PURE__*/_jsxs(Link,{to:\"/recipe/\".concat(recipe.id),className:\"recipe-card\",children:[/*#__PURE__*/_jsx(\"img\",{src:recipe.image,alt:recipe.title}),/*#__PURE__*/_jsxs(\"div\",{className:\"recipe-card-content\",children:[/*#__PURE__*/_jsx(\"h3\",{children:recipe.title}),/*#__PURE__*/_jsx(\"p\",{children:recipe.description}),/*#__PURE__*/_jsxs(\"div\",{className:\"recipe-meta\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"category\",children:recipe.category}),/*#__PURE__*/_jsx(\"span\",{className:\"difficulty\",children:recipe.difficulty})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"recipe-meta\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"time\",children:[\"\\u23F1\\uFE0F \",recipe.cookingTime]}),/*#__PURE__*/_jsxs(\"span\",{className:\"rating\",children:[\"\\u2B50 \",recipe.rating]})]})]})]},recipe.id))})]})});};export default RecipeList;","map":{"version":3,"names":["React","useState","useEffect","Link","useSearchParams","axios","config","jsx","_jsx","jsxs","_jsxs","RecipeList","recipes","setRecipes","loading","setLoading","searchParams","filters","setFilters","category","get","search","categories","fetchRecipes","params","URLSearchParams","append","response","concat","API_BASE_URL","data","error","console","mockRecipes","filteredRecipes","filter","recipe","toLowerCase","title","includes","ingredients","some","ingredient","handleFilterChange","key","value","prev","_objectSpread","className","style","padding","textAlign","children","onChange","e","target","map","type","placeholder","borderRadius","border","length","to","id","src","image","alt","description","difficulty","cookingTime","rating"],"sources":["C:/Users/HP/OneDrive/Desktop/Reciepe Sharing/client/src/pages/RecipeList.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { Link, useSearchParams } from 'react-router-dom';\r\nimport axios from 'axios';\r\nimport config from '../config';\r\n\r\nconst RecipeList = () => {\r\n  const [recipes, setRecipes] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [searchParams] = useSearchParams();\r\n  const [filters, setFilters] = useState({\r\n    category: searchParams.get('category') || 'All',\r\n    search: searchParams.get('search') || ''\r\n  });\r\n\r\n  const categories = ['All', 'Breakfast', 'Lunch', 'Dinner', 'Vegan', 'Desserts', 'Snacks'];\r\n\r\n  useEffect(() => {\r\n    fetchRecipes();\r\n  }, [filters]);\r\n\r\n  const fetchRecipes = async () => {\r\n    try {\r\n      setLoading(true);\r\n      const params = new URLSearchParams();\r\n      if (filters.category !== 'All') params.append('category', filters.category);\r\n      if (filters.search) params.append('search', filters.search);\r\n\r\n      const response = await axios.get(`${config.API_BASE_URL}/api/recipes?${params}`);\r\n      setRecipes(response.data);\r\n    } catch (error) {\r\n      console.error('Error fetching recipes:', error);\r\n      // Fallback to mock data in production\r\n      const { mockRecipes } = await import('../config');\r\n      let filteredRecipes = mockRecipes;\r\n      \r\n      if (filters.category !== 'All') {\r\n        filteredRecipes = filteredRecipes.filter(recipe => \r\n          recipe.category.toLowerCase() === filters.category.toLowerCase()\r\n        );\r\n      }\r\n      \r\n      if (filters.search) {\r\n        filteredRecipes = filteredRecipes.filter(recipe =>\r\n          recipe.title.toLowerCase().includes(filters.search.toLowerCase()) ||\r\n          recipe.ingredients.some(ingredient => \r\n            ingredient.toLowerCase().includes(filters.search.toLowerCase())\r\n          )\r\n        );\r\n      }\r\n      \r\n      setRecipes(filteredRecipes);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleFilterChange = (key, value) => {\r\n    setFilters(prev => ({ ...prev, [key]: value }));\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"container\" style={{ padding: '2rem', textAlign: 'center' }}>\r\n        <h2>Loading recipes...</h2>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"container\">\r\n      <section className=\"recipes-section\">\r\n        <div className=\"section-header\">\r\n          <h1>Browse Recipes</h1>\r\n          <div className=\"filters\">\r\n            <select\r\n              value={filters.category}\r\n              onChange={(e) => handleFilterChange('category', e.target.value)}\r\n            >\r\n              {categories.map(category => (\r\n                <option key={category} value={category}>\r\n                  {category}\r\n                </option>\r\n              ))}\r\n            </select>\r\n            <input\r\n              type=\"text\"\r\n              placeholder=\"Search recipes...\"\r\n              value={filters.search}\r\n              onChange={(e) => handleFilterChange('search', e.target.value)}\r\n              style={{ padding: '0.5rem', borderRadius: '5px', border: '2px solid #ddd' }}\r\n            />\r\n          </div>\r\n        </div>\r\n\r\n        {recipes.length === 0 ? (\r\n          <div style={{ textAlign: 'center', padding: '3rem' }}>\r\n            <h3>No recipes found</h3>\r\n            <p>Try adjusting your filters or search terms.</p>\r\n          </div>\r\n        ) : (\r\n          <div className=\"recipe-grid\">\r\n            {recipes.map((recipe) => (\r\n              <Link key={recipe.id} to={`/recipe/${recipe.id}`} className=\"recipe-card\">\r\n                <img src={recipe.image} alt={recipe.title} />\r\n                <div className=\"recipe-card-content\">\r\n                  <h3>{recipe.title}</h3>\r\n                  <p>{recipe.description}</p>\r\n                  <div className=\"recipe-meta\">\r\n                    <span className=\"category\">{recipe.category}</span>\r\n                    <span className=\"difficulty\">{recipe.difficulty}</span>\r\n                  </div>\r\n                  <div className=\"recipe-meta\">\r\n                    <span className=\"time\">⏱️ {recipe.cookingTime}</span>\r\n                    <span className=\"rating\">⭐ {recipe.rating}</span>\r\n                  </div>\r\n                </div>\r\n              </Link>\r\n            ))}\r\n          </div>\r\n        )}\r\n      </section>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default RecipeList;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}